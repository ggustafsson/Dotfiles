set -g default-terminal "screen-256color"
set -g display-time 1000
set -g focus-events on # Send focus events to underlying application.
set -g history-limit 9999
set -g mouse on
set -g prefix C-x
set -g renumber-windows on

set -g base-index 1
set -g pane-base-index 1

set -g escape-time 0 # Don't wait for Esc meta keys.
set -g repeat-time 0 # Don't wait for bind repeat keys.

set -g status-interval 5
set -g status-keys emacs
set -g status-left-length 25

# [main]  1:vim*  2:zsh   3:zsh-        "Coruscant"  Sat 5 Feb 14:12
set -g status-left " [#{session_name}] "
set -g status-right " \"#{pane_title}\"  %a %-d %b %H:%M "

set -g window-status-format " #I:#W#{?window_flags,#{window_flags}, } "
set -g window-status-current-format " #I:#W#{?window_flags,#{window_flags}, } "
set -g window-status-current-style "fg=black bg=yellow"
set -g window-status-separator ""


unbind C-b

bind Enter menu -T "#[align=centre] Launcher " \
  "Open Shell"  s "popup -E -h 60% -w 60% -d #{pane_current_path}" \
  "Open Python" p "popup -E -h 60% -w 60% python3" \
  "Open Docs"   d "popup -E -h 60% -w 60% nvim -R -c 'nmap q <Cmd>q<CR>' -c 'cd ~/Documents/Text' -c FzfFiles" \
  "" \
  "Close Menu"  q ""

bind C-x send-prefix # Send Ctrl-X to underlying application.
bind R source ~/.tmux.conf \; display "Reloaded ~/.tmux.conf"
bind S set -w synchronize-panes \; display "synchronize-panes is #{?pane_synchronized,on,off}"

# Same as "c", "n", "p", "x" and "," but for sessions instead of windows.
bind C new-session
bind N switch-client -n
bind P switch-client -p
bind X confirm -p "kill-session #S? (y/n)" kill-session
bind ';' command-prompt -I "#S" "rename-session -- '%%'" # Overrides last-pane.

bind '"' split-window -v -c "#{pane_current_path}"
bind '_' split-window -v -c "#{pane_current_path}" -l 25%
bind '%' split-window -h -c "#{pane_current_path}"

# All default copy bindings with "pbcopy" appended so system clipboard is used.
if-shell '[[ $OSTYPE == darwin* ]]' {
  bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel pbcopy
  bind -T copy-mode-vi C-j send-keys -X copy-pipe-and-cancel pbcopy

  bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel pbcopy
  bind -T copy-mode-vi DoubleClick1Pane select-pane \; send-keys -X select-word \; run-shell -d 0.2 \; send-keys -X copy-pipe-and-cancel pbcopy
  bind -T copy-mode-vi TripleClick1Pane select-pane \; send-keys -X select-line \; run-shell -d 0.2 \; send-keys -X copy-pipe-and-cancel pbcopy

  bind -T root DoubleClick1Pane select-pane -t = \; if-shell -F "#{||:#{pane_in_mode},#{mouse_any_flag}}" "send -M" "copy-mode -H ; send -X select-word ; run -d0.2 ; send -X copy-pipe-and-cancel pbcopy"
  bind -T root TripleClick1Pane select-pane -t = \; if-shell -F "#{||:#{pane_in_mode},#{mouse_any_flag}}" "send -M" "copy-mode -H ; send -X select-line ; run -d0.2 ; send -X copy-pipe-and-cancel pbcopy"
}
